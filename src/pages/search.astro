---
import Layout from "../layouts/Layout.astro";
import AnimeCard from "../components/AnimeCard.astro";
import GridContainer from "../components/GridContainer.astro";
import { search } from "../lib/db.js";
let data = await search(Astro.url.searchParams.get("q") ? Astro.url.searchParams.get("q") : "N/A");
---

<Layout name={Astro.url.searchParams.get("q") ? Astro.url.searchParams.get("q") : "Search"}>
	<GridContainer>
		{data.map((anime) => <AnimeCard name={anime.Title} src={anime.Image} id={"/anime/" + anime.AnimeID} episode={"0"} hasEye={false} />)}
	</GridContainer>
</Layout>
